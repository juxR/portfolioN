(function(e){google.maps.visualRefresh=!0;var t,n=new google.maps.Geocoder,r={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP},t=new google.maps.Map(document.getElementById("gmap"),r),i=function(){e("#gmap").find("img").remove();var t={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP,center:n.geocode({address:"Rue Basse-Montagne 40, 5100 Wépion, Belgique",region:"BE"},function(e,t){if(t===google.maps.GeocoderStatus.OK){r.panTo(e[0].geometry.location);var n=e[0].geometry.location.lb,s=e[0].geometry.location.mb,o=new google.maps.LatLng(n,s),u="J'habite ici !";i.setPosition(o);i.setContent(u)}})},r=new google.maps.Map(document.getElementById("gmap"),t);navigator.geolocation&&navigator.geolocation.getCurrentPosition(s,o);var i=new google.maps.InfoWindow({content:"J'habite ici",position:new google.maps.LatLng(50,4)});i.open(r)},s=function(t){var n={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP};e("#map").change(function(){var e=new google.maps.DirectionsService;directionsDisplay=new google.maps.DirectionsRenderer;var t=document.getElementById("map").value,n="Rue Basse-Montagne 40,5100 Wépion,Belgique",r=t,s={origin:n,destination:r,travelMode:google.maps.TravelMode.DRIVING};e.route(s,function(e,t){t==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(e)});directionsDisplay.setMap(i)});e("#btn").click(function(){var e=new google.maps.DirectionsService;directionsDisplay=new google.maps.DirectionsRenderer;var t=document.getElementById("map").value,n="Rue Basse-Montagne 40,5100 Wépion,Belgique",r=t,s={origin:n,destination:r,travelMode:google.maps.TravelMode.DRIVING};e.route(s,function(e,t){t==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(e)});directionsDisplay.setMap(i)});var r=function(e){var t=new google.maps.DirectionsService;directionsDisplay=new google.maps.DirectionsRenderer;var n="Rue Basse-Montagne 40,5100 Wépion,Belgique",r=e,s={origin:n,destination:r,travelMode:google.maps.TravelMode.DRIVING};t.route(s,function(e,t){t==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(e)});directionsDisplay.setMap(i)},i=new google.maps.Map(document.getElementById("gmap"),n),t=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),s=new google.maps.InfoWindow({content:"J'habite ici",position:new google.maps.LatLng(50.4329476,4.855422999999973)});s.open(i);var o=new google.maps.Marker({title:"Tu habites ici",position:t,map:i});r(t);i.setCenter(t)},o=function(){u(!0)},u=function(e){if(e)var t="Error: The Geolocation service failed.";else var t="Error: Your browser doesn't support geolocation."};google.maps.event.addDomListener(window,"load",i)}).call(this,jQuery);