(function(e){google.maps.visualRefresh=!0;var t,n="Belgique",r=new google.maps.Geocoder,i={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP},t=new google.maps.Map(document.getElementById("gmap"),i),s=function(){e("#gmap").find("img").remove();e("#adress").attr("data-adress")!=null&&(n=e("#adress").attr("data-adress"));var t={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP,center:r.geocode({address:n,region:"BE"},function(e,t){if(t===google.maps.GeocoderStatus.OK){i.panTo(e[0].geometry.location);var n=e[0].geometry.location.lb,r=e[0].geometry.location.mb,o=new google.maps.LatLng(n,r),u="J'habite ici !";s.setPosition(o);s.setContent(u)}})},i=new google.maps.Map(document.getElementById("gmap"),t);navigator.geolocation&&navigator.geolocation.getCurrentPosition(o,u);var s=new google.maps.InfoWindow({content:"J'habite ici",position:new google.maps.LatLng(50,4)});s.open(i)},o=function(t){var r={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP};e("#map").change(function(){var e=new google.maps.DirectionsService;directionsDisplay=new google.maps.DirectionsRenderer;var t=document.getElementById("map").value,r=n,i=t,o={origin:r,destination:i,travelMode:google.maps.TravelMode.DRIVING};e.route(o,function(e,t){t==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(e)});directionsDisplay.setMap(s)});e("#btn").click(function(){var e=new google.maps.DirectionsService;directionsDisplay=new google.maps.DirectionsRenderer;var t=document.getElementById("map").value,r=n,i=t,o={origin:r,destination:i,travelMode:google.maps.TravelMode.DRIVING};e.route(o,function(e,t){t==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(e)});directionsDisplay.setMap(s)});var i=function(e){var t=new google.maps.DirectionsService;directionsDisplay=new google.maps.DirectionsRenderer;var r=n,i=e,o={origin:r,destination:i,travelMode:google.maps.TravelMode.DRIVING};t.route(o,function(e,t){t==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(e)});directionsDisplay.setMap(s)},s=new google.maps.Map(document.getElementById("gmap"),r),t=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),o=new google.maps.InfoWindow({content:"J'habite ici",position:new google.maps.LatLng(50.4329476,4.855422999999973)});o.open(s);var u=new google.maps.Marker({title:"Tu habites ici",position:t,map:s});i(t);s.setCenter(t)},u=function(){a(!0)},a=function(e){if(e)var t="Error: The Geolocation service failed.";else var t="Error: Your browser doesn't support geolocation."};google.maps.event.addDomListener(window,"load",s)}).call(this,jQuery);